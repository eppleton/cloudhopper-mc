"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7327],{8395:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"guides/quickstart","title":"\ud83d\ude80 Deploy Your First Cloud Function in 5 Minutes","description":"Want to see Cloudhopper in action? This guide walks you through generating, deploying, and testing a serverless function on your favorite cloud \u2014 in just five minutes.","source":"@site/docs/guides/quickstart.md","sourceDirName":"guides","slug":"/guides/quickstart","permalink":"/cloudhopper-mc/docs/guides/quickstart","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"documentationSidebar","previous":{"title":"Overview","permalink":"/cloudhopper-mc/docs/intro"},"next":{"title":"Cloudhopper Maven Archetype","permalink":"/cloudhopper-mc/docs/modules/maven-archetype"}}');var o=n(4848),i=n(8453);const s={},l="\ud83d\ude80 Deploy Your First Cloud Function in 5 Minutes",a={},c=[{value:"\ud83d\udccb Prerequisites",id:"-prerequisites",level:2},{value:"Step 1: Generate a Project",id:"step-1-generate-a-project",level:2},{value:"Step 2: Configure Terraform deployment (for deploy-with-terraform profile)",id:"step-2-configure-terraform-deployment-for-deploy-with-terraform-profile",level:2},{value:"AWS",id:"aws",level:3},{value:"Azure",id:"azure",level:3},{value:"GCP",id:"gcp",level:3},{value:"Step 3: Build and Generate Deployment Artifacts",id:"step-3-build-and-generate-deployment-artifacts",level:2},{value:"Step 4: Deploy the Function with deploy-with-terraform profile",id:"step-4-deploy-the-function-with-deploy-with-terraform-profile",level:2},{value:"\ud83d\udd0d Step 5: Test Your Function",id:"-step-5-test-your-function",level:2},{value:"\ud83e\udded What\u2019s Next?",id:"-whats-next",level:2}];function d(e){const r={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.header,{children:(0,o.jsx)(r.h1,{id:"-deploy-your-first-cloud-function-in-5-minutes",children:"\ud83d\ude80 Deploy Your First Cloud Function in 5 Minutes"})}),"\n",(0,o.jsx)(r.p,{children:"Want to see Cloudhopper in action? This guide walks you through generating, deploying, and testing a serverless function on your favorite cloud \u2014 in just five minutes."}),"\n",(0,o.jsx)(r.hr,{}),"\n",(0,o.jsx)(r.h2,{id:"-prerequisites",children:"\ud83d\udccb Prerequisites"}),"\n",(0,o.jsx)(r.p,{children:"You\u2019ll need:"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:(0,o.jsx)(r.strong,{children:"Java 17+"})}),"\n",(0,o.jsx)(r.li,{children:(0,o.jsx)(r.strong,{children:(0,o.jsx)(r.a,{href:"https://maven.apache.org/install.html",children:"Maven 3.8+"})})}),"\n",(0,o.jsx)(r.li,{children:(0,o.jsx)(r.strong,{children:(0,o.jsx)(r.a,{href:"https://developer.hashicorp.com/terraform/tutorials/aws-get-started/install-cli",children:"Terraform 1.5+"})})}),"\n",(0,o.jsxs)(r.li,{children:["A cloud account and CLI set up for one of the following:","\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:(0,o.jsx)(r.a,{href:"../setup/aws-prerequisites",children:"AWS \u2192"})}),"\n",(0,o.jsx)(r.li,{children:(0,o.jsx)(r.a,{href:"../setup/gcp-prerequisites",children:"GCP \u2192"})}),"\n",(0,o.jsx)(r.li,{children:(0,o.jsx)(r.a,{href:"../setup/azure-prerequisites",children:"Azure \u2192"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(r.hr,{}),"\n",(0,o.jsx)(r.h2,{id:"step-1-generate-a-project",children:"Step 1: Generate a Project"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-bash",children:"mvn archetype:generate \\\n  -DarchetypeGroupId=eu.cloudhopper.mc \\\n  -DarchetypeArtifactId=cloudhopper-maven-archetype-core \\\n  -DarchetypeVersion=1.0-SNAPSHOT \\\n  -DgroupId=com.example \\\n  -DartifactId=my-function \\\n  -Dversion=1.0-SNAPSHOT \\\n  -Dpackage=com.example.fn \\\n  -DgeneratorIds=aws-terraform,gcp-terraform,azure-terraform,springboot \\\n  -DincludeTerraformProfile=true \\\n  -B\n"})}),"\n",(0,o.jsxs)(r.blockquote,{children:["\n",(0,o.jsx)(r.p,{children:"Change the list of generatorIds if targeting a different provider."}),"\n"]}),"\n",(0,o.jsx)(r.hr,{}),"\n",(0,o.jsx)(r.h2,{id:"step-2-configure-terraform-deployment-for-deploy-with-terraform-profile",children:"Step 2: Configure Terraform deployment (for deploy-with-terraform profile)"}),"\n",(0,o.jsx)(r.p,{children:"The generated project contains terraform files that allow you to set variables\nrequired for deployment and add additional variables and resources. You will need\nto configure these only if you're planning to use the terraform deployment profile."}),"\n",(0,o.jsx)(r.p,{children:"If you want to copy the generated resources to your own deployment pipeline, you can skip this step.\n:"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"src/main/resources/deployment/aws-terraform/main.tf\n"})}),"\n",(0,o.jsx)(r.p,{children:"You need to provide your AWS region and adjust authentication details or terraform backend configuration:"}),"\n",(0,o.jsx)(r.h3,{id:"aws",children:"AWS"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-hcl",children:'provider "aws" {\n  region = "us-east-1"\n}\n\n'})}),"\n",(0,o.jsx)(r.h3,{id:"azure",children:"Azure"}),"\n",(0,o.jsx)(r.h3,{id:"gcp",children:"GCP"}),"\n",(0,o.jsxs)(r.p,{children:["For more advanced setups (IAM roles, VPC config), see ",(0,o.jsx)(r.a,{href:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs",children:"Terraform AWS Provider Docs"}),"."]}),"\n",(0,o.jsx)(r.h2,{id:"step-3-build-and-generate-deployment-artifacts",children:"Step 3: Build and Generate Deployment Artifacts"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-bash",children:"cd my-function\nmvn clean install -Paws-terraform\n"})}),"\n",(0,o.jsx)(r.p,{children:"This compiles your function, processes annotations, and generates Terraform files in:"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"target/deployment/aws-terraform/\n"})}),"\n",(0,o.jsx)(r.p,{children:"You can now copy the generated files along with the generated artefact and deploy the resources\nas part of your existing pipeline. If you would like to use the deploy-with-terraform profile,\nproceed wit hthe next step."}),"\n",(0,o.jsx)(r.hr,{}),"\n",(0,o.jsx)(r.h2,{id:"step-4-deploy-the-function-with-deploy-with-terraform-profile",children:"Step 4: Deploy the Function with deploy-with-terraform profile"}),"\n",(0,o.jsx)(r.p,{children:"For the three cloud provider profiles you need to configure the terraform executable."}),"\n",(0,o.jsxs)(r.p,{children:["Make sure your ",(0,o.jsx)(r.code,{children:"pom.xml"})," includes the path to Terraform:"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-xml",children:"<properties>\n  <terraform.executable>terraform</terraform.executable>\n  <path.extras></path.extras>\n</properties>\n"})}),"\n",(0,o.jsx)(r.p,{children:"Use the built-in Maven profile to apply the Terraform plan:"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-bash",children:"mvn verify -Pdeploy-with-terraform -Dterraform.command=apply\n"})}),"\n",(0,o.jsx)(r.p,{children:"Terraform will create the function and related infrastructure."}),"\n",(0,o.jsx)(r.hr,{}),"\n",(0,o.jsx)(r.h2,{id:"-step-5-test-your-function",children:"\ud83d\udd0d Step 5: Test Your Function"}),"\n",(0,o.jsx)(r.p,{children:"Find the deployed URL in Terraform output or your cloud console, then test it:"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-bash",children:"curl https://your-function-url/hello\n"})}),"\n",(0,o.jsx)(r.p,{children:"Expected response:"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-json",children:'"Hello from Cloudhopper!"\n'})}),"\n",(0,o.jsx)(r.hr,{}),"\n",(0,o.jsx)(r.h2,{id:"-whats-next",children:"\ud83e\udded What\u2019s Next?"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:(0,o.jsx)(r.a,{href:"../modules/maven-archetype",children:"Explore the Maven Archetype \u2192"})}),"\n",(0,o.jsx)(r.li,{children:"Learn about annotations, templating, and generators"}),"\n"]})]})}function p(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>s,x:()=>l});var t=n(6540);const o={},i=t.createContext(o);function s(e){const r=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);