"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[805],{487:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>i,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"modules/provider-aws","title":"\u2601\ufe0f provider-aws","description":"This module provides AWS-specific base classes for Cloudhopper functions. These classes act as bridges between the AWS Lambda runtime and the cloud-neutral CloudRequestHandler interface.","source":"@site/docs/modules/provider-aws.md","sourceDirName":"modules","slug":"/modules/provider-aws","permalink":"/cloudhopper-mc/docs/modules/provider-aws","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"documentationSidebar","previous":{"title":"\u2601\ufe0f AWS Terraform Generator","permalink":"/cloudhopper-mc/docs/modules/generator-aws-terraform"},"next":{"title":"\u2699\ufe0f Azure Terraform Generator","permalink":"/cloudhopper-mc/docs/modules/generator-azure-terraform"}}');var t=n(4848),d=n(8453);const l={},a="\u2601\ufe0f provider-aws",i={},c=[{value:"\ud83d\ude80 Purpose",id:"-purpose",level:2},{value:"\ud83d\udd27 Available Base Classes",id:"-available-base-classes",level:2},{value:"\ud83e\uddea Example Usage",id:"-example-usage",level:2},{value:"\ud83e\udded Scheduled Events",id:"-scheduled-events",level:2},{value:"\ud83d\udce6 Packaging",id:"-packaging",level:2},{value:"\ud83d\udca1 For Generator Authors",id:"-for-generator-authors",level:2},{value:"\ud83d\udcda Related Modules",id:"-related-modules",level:2}];function o(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"\ufe0f-provider-aws",children:"\u2601\ufe0f provider-aws"})}),"\n",(0,t.jsxs)(s.p,{children:["This module provides AWS-specific base classes for Cloudhopper functions. These classes act as bridges between the AWS Lambda runtime and the cloud-neutral ",(0,t.jsx)(s.code,{children:"CloudRequestHandler<I, O>"})," interface."]}),"\n",(0,t.jsxs)(s.p,{children:["They are used by generated handler classes in the ",(0,t.jsx)(s.code,{children:"generator-aws-terraform"})," module to support:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Plain Lambda invocations"}),"\n",(0,t.jsx)(s.li,{children:"Scheduled executions (e.g., EventBridge)"}),"\n",(0,t.jsx)(s.li,{children:"API Gateway HTTP APIs (v2), both proxy and typed events"}),"\n",(0,t.jsx)(s.li,{children:"Automatic runtime dispatch via a unified router"}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"-purpose",children:"\ud83d\ude80 Purpose"}),"\n",(0,t.jsx)(s.p,{children:"These base classes enable Cloudhopper functions to:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Stay ",(0,t.jsx)(s.strong,{children:"platform-neutral"})," in their logic"]}),"\n",(0,t.jsxs)(s.li,{children:["Be executed in ",(0,t.jsx)(s.strong,{children:"multiple AWS contexts"})]}),"\n",(0,t.jsx)(s.li,{children:"Use a consistent interface for path/query parameters and runtime metadata"}),"\n",(0,t.jsx)(s.li,{children:"Simplify Lambda handler generation and reuse"}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"-available-base-classes",children:"\ud83d\udd27 Available Base Classes"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Class"}),(0,t.jsx)(s.th,{children:"Trigger Type"}),(0,t.jsx)(s.th,{children:"Input"}),(0,t.jsx)(s.th,{children:"Output"}),(0,t.jsx)(s.th,{children:"Used for"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"AwsLambdaRequestHandler<I, O>"})}),(0,t.jsx)(s.td,{children:"Lambda direct or scheduled"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"I"})," (or ",(0,t.jsx)(s.code,{children:"null"}),")"]}),(0,t.jsx)(s.td,{children:"POJO"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"Plain"})})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"ApiGatewayV2ProxyRequestHandler<I, O>"})}),(0,t.jsx)(s.td,{children:"API Gateway v2 (proxy)"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"APIGatewayV2ProxyRequestEvent"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"APIGatewayV2ProxyResponseEvent"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"ApiProxyV2"})})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"ApiGatewayV2HttpEventHandler<I, O>"})}),(0,t.jsx)(s.td,{children:"API Gateway v2 (typed)"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"APIGatewayV2HTTPEvent"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"APIGatewayV2HTTPResponse"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"ApiHttpV2"})})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"ApiGatewayEventRouter<I, O>"})}),(0,t.jsx)(s.td,{children:"Dynamic"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"Object"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"Object"})}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"Auto"})," router that delegates to the appropriate handler"]})]})]})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"-example-usage",children:"\ud83e\uddea Example Usage"}),"\n",(0,t.jsx)(s.p,{children:"Generated handlers typically look like this:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-java",children:"public class AwsLambdaMyFunctionHandler {\n\n    public static class Plain extends AwsLambdaRequestHandler<InputType, OutputType> {\n        public Plain() {\n            super(new MyFunction());\n        }\n    }\n\n    public static class ApiProxyV2 extends ApiGatewayV2ProxyRequestHandler<InputType, OutputType> {\n        public ApiProxyV2() {\n            super(new MyFunction(), InputType.class);\n        }\n    }\n\n    public static class ApiHttpV2 extends ApiGatewayV2HttpEventHandler<InputType, OutputType> {\n        public ApiHttpV2() {\n            super(new MyFunction(), InputType.class);\n        }\n    }\n\n    public static class Auto extends ApiGatewayEventRouter<InputType, OutputType> {\n        public Auto() {\n            super(new Plain(), new ApiProxyV2(), new ApiHttpV2());\n        }\n    }\n}\n"})}),"\n",(0,t.jsxs)(s.p,{children:["In Terraform-based deployments, the ",(0,t.jsx)(s.code,{children:"Auto"})," class is typically used as the Lambda entry point:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-hcl",children:'handler = "com.example.AwsLambdaMyFunctionHandler$Auto::handleRequest"\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"-scheduled-events",children:"\ud83e\udded Scheduled Events"}),"\n",(0,t.jsxs)(s.p,{children:["Scheduled EventBridge or CloudWatch invocations will result in ",(0,t.jsx)(s.code,{children:"input == null"}),". These are automatically routed to the ",(0,t.jsx)(s.code,{children:"Plain"})," handler."]}),"\n",(0,t.jsx)(s.p,{children:'This behavior is consistent across cloud providers and allows developers to treat scheduled calls as "fire-and-forget" jobs.'}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"-packaging",children:"\ud83d\udce6 Packaging"}),"\n",(0,t.jsxs)(s.p,{children:["All base classes in this module must be available at runtime (e.g., in the shaded JAR).",(0,t.jsx)(s.br,{}),"\n","They are required for dispatch, input parsing, and context adaptation."]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"-for-generator-authors",children:"\ud83d\udca1 For Generator Authors"}),"\n",(0,t.jsxs)(s.p,{children:["If you're building your own AWS generator module (like ",(0,t.jsx)(s.code,{children:"generator-aws-terraform"}),"), you should:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Use the correct base class for each handler type"}),"\n",(0,t.jsxs)(s.li,{children:["Register ",(0,t.jsx)(s.code,{children:"Auto"})," as the Lambda entry point to allow unified routing"]}),"\n",(0,t.jsxs)(s.li,{children:["Pass ",(0,t.jsx)(s.code,{children:"null"})," as input for scheduled calls"]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"-related-modules",children:"\ud83d\udcda Related Modules"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Module"}),(0,t.jsx)(s.th,{children:"Purpose"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"generator-aws-terraform"})}),(0,t.jsx)(s.td,{children:"Uses these base classes to generate AWS Lambda handler classes"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"deployment-config-api"})}),(0,t.jsxs)(s.td,{children:["Provides ",(0,t.jsx)(s.code,{children:"CloudRequestHandler"})," and ",(0,t.jsx)(s.code,{children:"HandlerContext"})," interfaces"]})]})]})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-java",metastring:'title="AwsLambdaRequestHandler.java"',children:"public abstract class AwsLambdaRequestHandler<I, O> implements RequestHandler<I, O> {\n    // ...\n}\n"})}),"\n",(0,t.jsx)(s.p,{children:"These base classes form the backbone of Cloudhopper\u2019s AWS Lambda support, enabling clean separation of infrastructure, runtime integration, and platform-neutral business logic."})]})}function h(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>a});var r=n(6540);const t={},d=r.createContext(t);function l(e){const s=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(d.Provider,{value:s},e.children)}}}]);