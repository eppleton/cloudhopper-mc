"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5340],{5305:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"modules/deployment-config-api","title":"Deployment Config API","description":"This module defines the public annotation and runtime API used by developers to create cloud functions with Cloudhopper.","source":"@site/docs/modules/deployment-config-api.md","sourceDirName":"modules","slug":"/modules/deployment-config-api","permalink":"/cloudhopper-mc/docs/modules/deployment-config-api","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Deployment Config API"},"sidebar":"documentationSidebar","previous":{"title":"Demo Project Guide","permalink":"/cloudhopper-mc/docs/modules/demo"},"next":{"title":"Deployment Config Generator API","permalink":"/cloudhopper-mc/docs/modules/deployment-config-generator-api"}}');var l=i(4848),d=i(8453);const o={title:"Deployment Config API"},r="deployment-config-api",s={},c=[{value:"\ud83d\udca1 Purpose",id:"-purpose",level:2},{value:"\ud83d\udce6 Package Overview",id:"-package-overview",level:2},{value:"\ud83e\udde9 Key Annotations",id:"-key-annotations",level:2},{value:"<code>@Function</code>",id:"function",level:3},{value:"<code>@Schedule</code>",id:"schedule",level:3},{value:"<code>@ApiOperation</code>",id:"apioperation",level:3},{value:"\ud83e\uddea Implementing a Handler",id:"-implementing-a-handler",level:2},{value:"\u2699\ufe0f Runtime Interfaces",id:"\ufe0f-runtime-interfaces",level:2},{value:"<code>CloudRequestHandler&lt;I, O&gt;</code>",id:"cloudrequesthandleri-o",level:3},{value:"<code>HandlerContext</code>",id:"handlercontext",level:3},{value:"\ud83d\udd17 Related Modules",id:"-related-modules",level:2},{value:"\ud83d\udc64 Intended Audience",id:"-intended-audience",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"deployment-config-api",children:"deployment-config-api"})}),"\n",(0,l.jsx)(n.p,{children:"This module defines the public annotation and runtime API used by developers to create cloud functions with Cloudhopper."}),"\n",(0,l.jsx)(n.p,{children:"It provides the key building blocks for function declaration, scheduling, and API gateway integration, independent of any specific cloud provider."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-purpose",children:"\ud83d\udca1 Purpose"}),"\n",(0,l.jsx)(n.p,{children:"The goal of this module is to allow application developers to define serverless functions in a clean, portable way using standard Java annotations and interfaces."}),"\n",(0,l.jsxs)(n.p,{children:["This module is ",(0,l.jsx)(n.strong,{children:"used by developers"}),", ",(0,l.jsx)(n.strong,{children:"referenced by integrators"}),", and ",(0,l.jsx)(n.strong,{children:"consumed by the annotation processor"}),"."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-package-overview",children:"\ud83d\udce6 Package Overview"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Package"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"eu.cloudhopper.mc.annotations"})}),(0,l.jsxs)(n.td,{children:["Core annotations like ",(0,l.jsx)(n.code,{children:"@Function"}),", ",(0,l.jsx)(n.code,{children:"@Schedule"}),", ",(0,l.jsx)(n.code,{children:"@ApiOperation"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"eu.cloudhopper.mc.runtime"})}),(0,l.jsxs)(n.td,{children:["Runtime interfaces such as ",(0,l.jsx)(n.code,{children:"CloudRequestHandler"}),", ",(0,l.jsx)(n.code,{children:"HandlerContext"})]})]})]})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-key-annotations",children:"\ud83e\udde9 Key Annotations"}),"\n",(0,l.jsx)(n.h3,{id:"function",children:(0,l.jsx)(n.code,{children:"@Function"})}),"\n",(0,l.jsx)(n.p,{children:"Defines a deployable cloud function."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'@Function(name = "hello")\npublic class HelloFunction implements CloudRequestHandler<String, String> {\n    public String handleRequest(String input, HandlerContext context) {\n        return "Hello, " + input;\n    }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"schedule",children:(0,l.jsx)(n.code,{children:"@Schedule"})}),"\n",(0,l.jsx)(n.p,{children:"Optional trigger to invoke a function on a regular schedule."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'@Schedule(cron = "0 0 * * *")\n'})}),"\n",(0,l.jsx)(n.h3,{id:"apioperation",children:(0,l.jsx)(n.code,{children:"@ApiOperation"})}),"\n",(0,l.jsx)(n.p,{children:"Declares HTTP API metadata used to configure gateway routes."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'@ApiOperation(method = "GET", path = "/hello", summary = "Say hello")\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-implementing-a-handler",children:"\ud83e\uddea Implementing a Handler"}),"\n",(0,l.jsxs)(n.p,{children:["All functions must implement ",(0,l.jsx)(n.code,{children:"CloudRequestHandler<I, O>"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"public interface CloudRequestHandler<I, O> {\n    O handleRequest(I input, HandlerContext context);\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["You will receive an implementation of ",(0,l.jsx)(n.code,{children:"HandlerContext"})," at runtime with request-specific metadata (e.g. request ID, region, etc.)."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\ufe0f-runtime-interfaces",children:"\u2699\ufe0f Runtime Interfaces"}),"\n",(0,l.jsx)(n.p,{children:"These are the interfaces you implement or receive at runtime when writing Cloudhopper functions."}),"\n",(0,l.jsx)(n.h3,{id:"cloudrequesthandleri-o",children:(0,l.jsx)(n.code,{children:"CloudRequestHandler<I, O>"})}),"\n",(0,l.jsx)(n.p,{children:"Defines the signature of a deployable cloud function."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"public interface CloudRequestHandler<I, O> {\n    O handleRequest(I input, HandlerContext context);\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"You implement this interface to define the logic of your function. It receives:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"input"}),": your deserialized request payload"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"context"}),": runtime metadata provided by the platform"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"handlercontext",children:(0,l.jsx)(n.code,{children:"HandlerContext"})}),"\n",(0,l.jsx)(n.p,{children:"Provides metadata about the current function invocation."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"public interface HandlerContext {\n    String getRequestId();\n    String getFunctionName();\n    String getFunctionVersion();\n    String getInvokedFunctionArn();\n    String getLogGroupName();\n    String getLogStreamName();\n    long getRemainingTimeInMillis();\n    int getMemoryLimitInMB();\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:"The platform adapter (e.g. AWS, Azure, GCP) supplies this to your function. It gives access to:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"invocation-specific IDs"}),"\n",(0,l.jsx)(n.li,{children:"logging information"}),"\n",(0,l.jsx)(n.li,{children:"timeout and memory limits"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-related-modules",children:"\ud83d\udd17 Related Modules"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"deployment-config-generator-api"}),": used by integrators to build custom code generators"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"deployment-config-processor"}),": uses this module to process annotations at compile time"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-intended-audience",children:"\ud83d\udc64 Intended Audience"}),"\n",(0,l.jsx)(n.p,{children:"This module is for:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Application developers writing cloud functions"}),"\n",(0,l.jsx)(n.li,{children:"Generator implementors referencing annotation types"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}}}]);